var JSHINT=function(){"use strict";function e(){}function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(e,n){var r;for(r in n)t(n,r)&&(e[r]=n[r])}function r(){if(an.safe)return;an.couch&&n(fn,_t),an.rhino&&n(fn,hn),an.node&&n(fn,on),an.devel&&n(fn,Rt),an.browser&&n(fn,Mt),an.jquery&&n(fn,Zt),an.windows&&n(fn,Nn),an.widget&&n(fn,Tn)}function i(e,t,n){throw{name:"JSHintError",line:t,character:n,message:e+" ("+Math.floor(t/en.length*100)+"% scanned)."}}function s(e,t,n,r,s,o){var u,a,f;return t=t||sn,t.id==="(end)"&&(t=En),a=t.line||0,u=t.from||0,f={id:"(error)",raw:e,evidence:en[a-1]||"",line:a,character:u,a:n,b:r,c:s,d:o},f.reason=e.supplant(f),JSHINT.errors.push(f),an.passfail&&i("Stopping. ",a,u),xn+=1,xn>=an.maxerr&&i("Too many errors.",a,u),f}function o(e,t,n,r,i,o,u){return s(e,{line:t,from:n},r,i,o,u)}function u(e,t,n,r,o,u){var a=s(e,t,n,r,o,u);i("Stopping, unable to continue.",a.line,a.character)}function a(e,t,n,r,i,s,o){return u(e,{line:t,from:n},r,i,s,o)}function f(e,n){an.safe&&zt["(global)"]&&typeof fn[e]!="boolean"?s("ADsafe global: "+e+".",En):e==="hasOwnProperty"&&s("'hasOwnProperty' is a really bad name."),t(zt,e)&&!zt["(global)"]&&s(zt[e]===!0?"'{a}' was used before it was defined.":"'{a}' is already defined.",sn,e),zt[e]=n,zt["(global)"]?(Vt[e]=zt,t(Kt,e)&&(s("'{a}' was used before it was defined.",sn,e),delete Kt[e])):pn[e]=zt}function l(){var e,t,n,i=sn.value,o,a;switch(i){case"*/":u("Unbegun comment.");break;case"/*members":case"/*member":i="/*members",rn||(rn={}),t=rn;break;case"/*jshint":an.safe&&s("ADsafe restriction."),t=an,n=Ot;break;case"/*global":an.safe&&s("ADsafe restriction."),t=fn;break;default:u("What?")}o=Xn.token();e:for(;;){for(;;){if(o.type==="special"&&o.value==="*/")break e;if(o.id!=="(endline)"&&o.id!==",")break;o=Xn.token()}o.type!=="(string)"&&o.type!=="(identifier)"&&i!=="/*members"&&u("Bad option.",o),a=Xn.token(),a.id===":"?(a=Xn.token(),t===rn&&u("Expected '{a}' and instead saw '{b}'.",o,"*/",":"),o.value==="indent"&&i==="/*jshint"?(e=+a.value,(typeof e!="number"||!isFinite(e)||e<=0||Math.floor(e)!==e)&&u("Expected a small integer and instead saw '{a}'.",a,a.value),t.white=!0,t.indent=e):o.value==="maxerr"&&i==="/*jshint"?(e=+a.value,(typeof e!="number"||!isFinite(e)||e<=0||Math.floor(e)!==e)&&u("Expected a small integer and instead saw '{a}'.",a,a.value),t.maxerr=e):o.value==="maxlen"&&i==="/*jshint"?(e=+a.value,(typeof e!="number"||!isFinite(e)||e<=0||Math.floor(e)!==e)&&u("Expected a small integer and instead saw '{a}'.",a,a.value),t.maxlen=e):a.value==="true"?t[o.value]=!0:a.value==="false"?t[o.value]=!1:u("Bad option value.",a),o=Xn.token()):(i==="/*jshint"&&u("Missing option value.",o),t[o.value]=!1,o=a)}n&&r()}function c(e){var t=e||0,n=0,r;while(n<=t)r=tn[n],r||(r=tn[n]=Xn.token()),n+=1;return r}function h(e,t){switch(En.id){case"(number)":sn.id==="."&&s("A dot following a number can be confused with a decimal point.",En);break;case"-":(sn.id==="-"||sn.id==="--")&&s("Confusing minusses.");break;case"+":(sn.id==="+"||sn.id==="++")&&s("Confusing plusses.")}if(En.type==="(string)"||En.identifier)Ct=En.value;e&&sn.id!==e&&(t?sn.id==="(end)"?s("Unmatched '{a}'.",t,t.id):s("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",sn,e,t.id,t.line,sn.value):(sn.type!=="(identifier)"||sn.value!==e)&&s("Expected '{a}' and instead saw '{b}'.",sn,e,sn.value)),cn=En,En=sn;for(;;){sn=tn.shift()||Xn.token();if(sn.id==="(end)"||sn.id==="(error)")return;if(sn.type==="special")l();else if(sn.id!=="(endline)")break}}function p(e,t){var n;sn.id==="(end)"&&u("Unexpected early end of program.",En),h(),an.safe&&typeof fn[En.value]=="boolean"&&sn.id!=="("&&sn.id!=="."&&s("ADsafe violation.",En),t&&(Ct="anonymous",zt["(verb)"]=En.value);if(t===!0&&En.fud)n=En.fud();else{if(En.nud)n=En.nud();else{if(sn.type==="(number)"&&En.id===".")return s("A leading decimal point can be confused with a dot: '.{a}'.",En,sn.value),h(),En;u("Expected an identifier and instead saw '{a}'.",En,En.id)}while(e<sn.lbp)h(),En.led?n=En.led(n):u("Expected an operator and instead saw '{a}'.",En,En.id)}return n}function d(e,t){e=e||En,t=t||sn,(an.white||Cn==="styleproperty"||Cn==="style")&&e.character!==t.from&&e.line===t.line&&s("Unexpected space after '{a}'.",t,e.value)}function v(e,t){e=e||En,t=t||sn,an.white&&(e.character!==t.from||e.line!==t.line)&&s("Unexpected space before '{a}'.",t,t.value)}function m(e,t){e=e||En,t=t||sn,an.white&&!e.comment&&e.line===t.line&&d(e,t)}function g(e,t){an.white&&(e=e||En,t=t||sn,e.line===t.line&&e.character===t.from&&s("Missing space after '{a}'.",sn,e.value))}function y(e,t){e=e||En,t=t||sn,!an.laxbreak&&e.line!==t.line?s("Bad line breaking before '{a}'.",t,t.id):an.white&&(e=e||En,t=t||sn,e.character===t.from&&s("Missing space after '{a}'.",sn,e.value))}function b(e){var t;an.white&&sn.id!=="(end)"&&(t=Gt+(e||0),sn.from!==t&&s("Expected '{a}' to have an indentation at {b} instead at {c}.",sn,sn.value,t,sn.from))}function w(e){e=e||En,e.line!==sn.line&&s("Line breaking error '{a}'.",e,e.value)}function E(){En.line!==sn.line?an.laxbreak||s("Bad line breaking before '{a}'.",En,sn.id):En.character!==sn.from&&an.white&&s("Unexpected space after '{a}'.",sn,En.value),h(","),g(En,sn)}function S(e,t){var n=bn[e];if(!n||typeof n!="object")bn[e]=n={id:e,lbp:t,value:e};return n}function x(e){return S(e,0)}function T(e,t){var n=x(e);return n.identifier=n.reserved=!0,n.fud=t,n}function N(e,t){var n=T(e,t);return n.block=!0,n}function C(e){var t=e.id.charAt(0);if(t>="a"&&t<="z"||t>="A"&&t<="Z")e.identifier=e.reserved=!0;return e}function k(e,t){var n=S(e,150);return C(n),n.nud=typeof t=="function"?t:function(){this.right=p(150),this.arity="unary";if(this.id==="++"||this.id==="--")an.plusplus?s("Unexpected use of '{a}'.",this,this.id):(!this.right.identifier||this.right.reserved)&&this.right.id!=="."&&this.right.id!=="["&&s("Bad operand.",this);return this},n}function L(e,t){var n=x(e);return n.type=e,n.nud=t,n}function A(e,t){var n=L(e,t);return n.identifier=n.reserved=!0,n}function O(e,t){return A(e,function(){return typeof t=="function"&&t(this),this})}function M(e,t,n,r){var i=S(e,n);return C(i),i.led=function(e){return r||(y(cn,En),g(En,sn)),typeof t=="function"?t(e,this):(this.left=e,this.right=p(n),this)},i}function _(e,t){var n=S(e,100);return n.led=function(e){y(cn,En),g(En,sn);var n=p(100);return e&&e.id==="NaN"||n&&n.id==="NaN"?s("Use the isNaN function to compare with NaN.",this):t&&t.apply(this,[e,n]),e.id==="!"&&s("Confusing use of '{a}'.",e,"!"),n.id==="!"&&s("Confusing use of '{a}'.",e,"!"),this.left=e,this.right=n,this},n}function D(e){return e&&(e.type==="(number)"&&+e.value===0||e.type==="(string)"&&e.value===""||e.type==="null"&&!an.boss||e.type==="true"||e.type==="false"||e.type==="undefined")}function P(e,t){return S(e,20).exps=!0,M(e,function(e,t){var n;t.left=e,fn[e.value]===!1&&pn[e.value]["(global)"]===!0?s("Read only.",e):e["function"]&&s("'{a}' is a function.",e,e.value);if(an.safe){n=e;do typeof fn[n.value]=="boolean"&&s("ADsafe violation.",n),n=n.left;while(n)}if(e){if(e.id==="."||e.id==="[")return(!e.left||e.left.value==="arguments")&&s("Bad assignment.",t),t.right=p(19),t;if(e.identifier&&!e.reserved)return zt[e.value]==="exception"&&s("Do not assign to the exception parameter.",e),t.right=p(19),t;e===bn["function"]&&s("Expected an identifier in an assignment and instead saw a function invocation.",En)}u("Bad assignment.",t)},20)}function H(e,t,n){var r=S(e,n);return C(r),r.led=typeof t=="function"?t:function(e){return an.bitwise&&s("Unexpected use of '{a}'.",this,this.id),this.left=e,this.right=p(n),this},r}function B(e){return S(e,20).exps=!0,M(e,function(e,t){an.bitwise&&s("Unexpected use of '{a}'.",t,t.id),g(cn,En),g(En,sn);if(e)return e.id==="."||e.id==="["||e.identifier&&!e.reserved?(p(19),t):(e===bn["function"]&&s("Expected an identifier in an assignment, and instead saw a function invocation.",En),t);u("Bad assignment.",t)},20)}function j(e,t){var n=S(e,150);return n.led=function(e){return an.plusplus?s("Unexpected use of '{a}'.",this,this.id):(!e.identifier||e.reserved)&&e.id!=="."&&e.id!=="["&&s("Bad operand.",this),this.left=e,this},n}function F(e){if(sn.identifier)return h(),an.safe&&At[En.value]?s("ADsafe violation: '{a}'.",En,En.value):En.reserved&&!an.es5&&(!e||En.value!="undefined")&&s("Expected an identifier and instead saw '{a}' (a reserved word).",En,En.id),En.value}function I(e){var t=F(e);if(t)return t;En.id==="function"&&sn.id==="("?s("Missing name in function statement."):u("Expected an identifier and instead saw '{a}'.",sn,sn.value)}function q(e){var t=0,n;if(sn.id!==";"||un)return;for(;;){n=c(t);if(n.reach)return;if(n.id!=="(endline)"){if(n.id==="function"){s("Inner functions should be listed at the top of the outer function.",n);break}s("Unreachable '{a}' after '{b}'.",n,n.value,e);break}t+=1}}function R(e){var t=Gt,n,r=pn,i=sn;if(i.id===";"){s("Unnecessary semicolon.",i),h(";");return}return i.identifier&&!i.reserved&&c().id===":"&&(h(),h(":"),pn=Object.create(r),f(i.value,"label"),sn.labelled||s("Label '{a}' on {b} statement.",sn,i.value,sn.value),jn.test(i.value+":")&&s("Label '{a}' looks like a javascript url.",i,i.value),sn.label=i.value,i=sn),e||b(),n=p(0,!0),i.block||(!n||!n.exps?s("Expected an assignment or function call and instead saw an expression.",En):an.nonew&&n.id==="("&&n.left.id==="new"&&s("Do not use 'new' for side effects."),sn.id!==";"?an.asi||o("Missing semicolon.",En.line,En.from+En.value.length):(d(En,sn),h(";"),g(En,sn))),Gt=t,pn=r,n}function U(){return sn.value==="use strict"?(yn&&s('Unnecessary "use strict".'),h(),h(";"),yn=!0,an.newcap=!0,an.undef=!0,!0):!1}function z(e){var t=[],n,r;if(an.adsafe)switch(e){case"script":Tt||(sn.value!=="ADSAFE"||c(0).id!=="."||c(1).value!=="id"&&c(1).value!=="go")&&u("ADsafe violation: Missing ADSAFE.id or ADSAFE.go.",sn),sn.value==="ADSAFE"&&c(0).id==="."&&c(1).value==="id"&&(Tt&&u("ADsafe violation.",sn),h("ADSAFE"),h("."),h("id"),h("("),sn.value!==xt&&u("ADsafe violation: id does not match.",sn),h("(string)"),h(")"),h(";"),Tt=!0);break;case"lib":if(sn.value==="ADSAFE")return h("ADSAFE"),h("."),h("lib"),h("("),h("(string)"),E(),n=p(0),n.id!=="function"&&u("The second argument to lib must be a function.",n),r=n.funct["(params)"],r=r&&r.join(", "),r&&r!=="lib"&&u("Expected '{a}' and instead saw '{b}'.",n,"(lib)","("+r+")"),h(")"),h(";"),t;u("ADsafe lib violation.")}while(!sn.reach&&sn.id!=="(end)")sn.id===";"?(s("Unnecessary semicolon."),h(";")):t.push(R());return t}function W(e,t){var n,r=Qt,i=Gt,o=yn,a=pn,f;Qt=e,pn=Object.create(pn),g(En,sn),f=sn;if(sn.id==="{"){h("{");if(sn.id!=="}"||En.line!==sn.line){Gt+=an.indent;while(!e&&sn.from>Gt)Gt+=an.indent;!e&&!U()&&!o&&an.strict&&zt["(context)"]["(global)"]&&s('Missing "use strict" statement.'),n=z(),yn=o,Gt-=an.indent,b()}h("}",f),Gt=i}else e?((!t||an.curly)&&s("Expected '{a}' and instead saw '{b}'.",sn,"{",sn.value),un=!0,n=[R()],un=!1):u("Expected '{a}' and instead saw '{b}'.",sn,"{",sn.value);return zt["(verb)"]=null,pn=a,Qt=r,e&&an.noempty&&(!n||n.length===0)&&s("Empty block."),n}function X(e){rn&&typeof rn[e]!="boolean"&&s("Unexpected /*member '{a}'.",En,e),typeof nn[e]=="number"?nn[e]+=1:nn[e]=1}function V(e){var t=e.value,n=e.line,r=Kt[t];typeof r=="function"&&(r=!1),r?r[r.length-1]!==n&&r.push(n):(r=[n],Kt[t]=r)}function $(){if(sn.identifier)return h(),!0}function J(){sn.id==="-"&&(h("-"),d(),w());if(sn.type==="(number)")return h("(number)"),!0}function K(){if(sn.type==="(string)")return h(),!0}function Q(){var e,t,n;if(sn.identifier){n=sn.value;if(n==="rgb"||n==="rgba"){h(),h("(");for(e=0;e<3;e+=1)e&&h(","),t=sn.value,sn.type!=="(number)"||t<0?(s("Expected a positive number and instead saw '{a}'",sn,t),h()):(h(),sn.id==="%"?(h("%"),t>100&&s("Expected a percentage and instead saw '{a}'",En,t)):t>255&&s("Expected a small number and instead saw '{a}'",En,t));return n==="rgba"&&(h(","),t=+sn.value,(sn.type!=="(number)"||t<0||t>1)&&s("Expected a number between 0 and 1 and instead saw '{a}'",sn,t),h(),sn.id==="%"&&(s("Unexpected '%'."),h("%"))),h(")"),!0}if(Ht[sn.value]===!0)return h(),!0}else if(sn.type==="(color)")return h(),!0;return!1}function G(){return sn.id==="-"&&(h("-"),d(),w()),sn.type==="(number)"?(h(),sn.type!=="(string)"&&Ft[sn.value]===!0?(d(),h()):+En.value!==0&&s("Expected a linear unit and instead saw '{a}'.",sn,sn.value),!0):!1}function Y(){return sn.id==="-"&&(h("-"),d()),sn.type==="(number)"?(h(),sn.type!=="(string)"&&Ft[sn.value]===!0&&(d(),h()),!0):!1}function Z(){if(!sn.identifier)return G();switch(sn.value){case"thin":case"medium":case"thick":return h(),!0}}function et(){if(!sn.identifier)return G();if(sn.value==="auto")return h(),!0}function tt(){return sn.identifier&&sn.value==="attr"?(h(),h("("),sn.identifier||s("Expected a name and instead saw '{a}'.",sn,sn.value),h(),h(")"),!0):!1}function nt(){while(sn.id!==";"){!$()&&!K()&&s("Expected a name and instead saw '{a}'.",sn,sn.value);if(sn.id!==",")return!0;E()}}function rt(){return sn.identifier&&sn.value==="counter"?(h(),h("("),h(),sn.id===","&&(E(),sn.type!=="(string)"&&s("Expected a string and instead saw '{a}'.",sn,sn.value),h()),h(")"),!0):sn.identifier&&sn.value==="counters"?(h(),h("("),sn.identifier||s("Expected a name and instead saw '{a}'.",sn,sn.value),h(),sn.id===","&&(E(),sn.type!=="(string)"&&s("Expected a string and instead saw '{a}'.",sn,sn.value),h()),sn.id===","&&(E(),sn.type!=="(string)"&&s("Expected a string and instead saw '{a}'.",sn,sn.value),h()),h(")"),!0):!1}function it(){var e;if(sn.identifier&&sn.value==="rect"){h(),h("(");for(e=0;e<4;e+=1)if(!G()){s("Expected a number and instead saw '{a}'.",sn,sn.value);break}return h(")"),!0}return!1}function st(){var e,t;if(sn.identifier&&sn.value==="url"){sn=Xn.range("(",")"),t=sn.value,e=t.charAt(0);if(e==='"'||e==="'")t.slice(-1)!==e?s("Bad url string."):(t=t.slice(1,-1),t.indexOf(e)>=0&&s("Bad url string."));return t||s("Missing url."),h(),an.safe&&Fn.test(t)&&u("ADsafe URL violation."),Sn.push(t),!0}return!1}function ot(){var e;while(sn.id==="*"||sn.id==="#"||sn.value==="_")an.css||s("Unexpected '{a}'.",sn,sn.value),h();return sn.id==="-"?(an.css||s("Unexpected '{a}'.",sn,sn.value),h("-"),sn.identifier||s("Expected a non-standard style attribute and instead saw '{a}'.",sn,sn.value),h(),Pt):(sn.identifier?t(Dt,sn.value)?e=Dt[sn.value]:(e=Pt,an.css||s("Unrecognized style attribute '{a}'.",sn,sn.value)):s("Excepted a style attribute, and instead saw '{a}'.",sn,sn.value),h(),e)}function ut(e){var t=0,n,r,i,s,o=0,u;switch(typeof e){case"function":return e();case"string":if(sn.identifier&&sn.value===e)return h(),!0;return!1}for(;;){if(t>=e.length)return!1;u=e[t],t+=1;if(u===!0)break;typeof u=="number"?(n=u,u=e[t],t+=1):n=1,i=!1;while(n>0){if(!ut(u))break;i=!0,n-=1}if(i)return!0}o=t,r=[];for(;;){s=!1;for(t=o;t<e.length;t+=1)if(!r[t]&&ut(Dt[e[t]])){i=!0,s=!0,r[t]=!0;break}if(!s)return i}}function at(){if(sn.id==="(number)"){h(),sn.value==="n"&&sn.identifier&&(d(),h(),sn.id==="+"&&(d(),h("+"),d(),h("(number)")));return}switch(sn.value){case"odd":case"even":if(sn.identifier){h();return}}s("Unexpected token '{a}'.",sn,sn.value)}function ft(){var e;for(;;){if(sn.id==="}"||sn.id==="(end)"||kn&&sn.id===kn)return;while(sn.id===";")s("Misplaced ';'."),h(";");e=ot(),h(":"),sn.identifier&&sn.value==="inherit"?h():ut(e)||(s("Unexpected token '{a}'.",sn,sn.value),h()),sn.id==="!"&&(h("!"),d(),sn.identifier&&sn.value==="important"?h():s("Expected '{a}' and instead saw '{b}'.",sn,"important",sn.value)),sn.id==="}"||sn.id===kn?s("Missing '{a}'.",sn,";"):h(";")}}function lt(){if(sn.identifier)t($t,an.cap?sn.value.toLowerCase():sn.value)||s("Expected a tagName, and instead saw {a}.",sn,sn.value),h();else switch(sn.id){case">":case"+":h(),lt();break;case":":h(":");switch(sn.value){case"active":case"after":case"before":case"checked":case"disabled":case"empty":case"enabled":case"first-child":case"first-letter":case"first-line":case"first-of-type":case"focus":case"hover":case"last-child":case"last-of-type":case"link":case"only-of-type":case"root":case"target":case"visited":h();break;case"lang":h(),h("("),sn.identifier||s("Expected a lang code, and instead saw :{a}.",sn,sn.value),h(")");break;case"nth-child":case"nth-last-child":case"nth-last-of-type":case"nth-of-type":h(),h("("),at(),h(")");break;case"not":h(),h("("),sn.id===":"&&c(0).value==="not"&&s("Nested not."),lt(),h(")");break;default:s("Expected a pseudo, and instead saw :{a}.",sn,sn.value)}break;case"#":h("#"),sn.identifier||s("Expected an id, and instead saw #{a}.",sn,sn.value),h();break;case"*":h("*");break;case".":h("."),sn.identifier||s("Expected a class, and instead saw #.{a}.",sn,sn.value),h();break;case"[":h("["),sn.identifier||s("Expected an attribute, and instead saw [{a}].",sn,sn.value),h();if(sn.id==="="||sn.value==="~="||sn.value==="$="||sn.value==="|="||sn.id==="*="||sn.id==="^=")h(),sn.type!=="(string)"&&s("Expected a string, and instead saw {a}.",sn,sn.value),h();h("]");break;default:u("Expected a CSS selector, and instead saw {a}.",sn,sn.value)}}function ct(){sn.id==="{"&&s("Expected a style pattern, and instead saw '{a}'.",sn,sn.id);for(;;){lt();if(sn.id==="</"||sn.id==="{"||sn.id==="(end)")return"";sn.id===","&&E()}}function ht(){while(sn.id!=="</"&&sn.id!=="(end)")ct(),Cn="styleproperty",sn.id===";"?h(";"):(h("{"),ft(),Cn="style",h("}"))}function pt(){var e;while(sn.id==="@"){e=c(),h("@");if(sn.identifier)switch(sn.value){case"import":h(),st()||(s("Expected '{a}' and instead saw '{b}'.",sn,"url",sn.value),h()),h(";");break;case"media":h();for(;;){(!sn.identifier||It[sn.value]===!0)&&u("Expected a CSS media type, and instead saw '{a}'.",sn,sn.id),h();if(sn.id!==",")break;h(",")}h("{"),ht(),h("}");break;default:s("Expected an at-rule, and instead saw @{a}.",sn,sn.value)}else s("Expected an at-rule, and instead saw '{a}'.",sn,sn.value)}ht()}function dt(e){e!=="html"&&!an.fragment&&(e==="div"&&an.adsafe?u("ADSAFE: Use the fragment option."):u("Expected '{a}' and instead saw '{b}'.",En,"html",e)),an.adsafe&&(e==="html"&&u("Currently, ADsafe does not operate on whole HTML documents. It operates on <div> fragments and .js files.",En),an.fragment?e!=="div"&&u("ADsafe violation: Wrap the widget in a div.",En):u("Use the fragment option.",En)),an.browser=!0,r()}function vt(e,t,n){var r,i;t==="id"?(r=typeof n=="string"?n.toUpperCase():"",Jt[r]===!0&&s("Duplicate id='{a}'.",sn,n),/^[A-Za-z][A-Za-z0-9._:\-]*$/.test(n)?an.adsafe&&(xt?n.slice(0,xt.length)!==xt?s("ADsafe violation: An id must have a '{a}' prefix",sn,xt):/^[A-Z]+_[A-Z]+$/.test(n)||s("ADSAFE violation: bad id."):(xt=n,/^[A-Z]+_$/.test(n)||s("ADSAFE violation: bad id."))):s("Bad id: '{a}'.",sn,n),i=n.search(Un),i>=0&&s("Unexpected character '{a}' in {b}.",En,n.charAt(i),t),Jt[r]=!0):t==="class"||t==="type"||t==="name"?(i=n.search(Rn),i>=0&&s("Unexpected character '{a}' in {b}.",En,n.charAt(i),t),Jt[r]=!0):t==="href"||t==="background"||t==="content"||t==="data"||t.indexOf("src")>=0||t.indexOf("url")>=0?(an.safe&&Fn.test(n)&&u("ADsafe URL violation."),Sn.push(n)):t==="for"?an.adsafe&&(xt?n.slice(0,xt.length)!==xt?s("ADsafe violation: An id must have a '{a}' prefix",sn,xt):/^[A-Z]+_[A-Z]+$/.test(n)||s("ADSAFE violation: bad id."):s("ADSAFE violation: bad id.")):t==="name"&&an.adsafe&&n.indexOf("_")>=0&&s("ADsafe name violation.")}function mt(e,t){var n,r=$t[e],i;dn=!1,r||u("Unrecognized tag '<{a}>'.",sn,e===e.toLowerCase()?e:e+" (capitalization error)");if(vn.length>0){e==="html"&&u("Too many <html> tags.",En),i=r.parent;if(i)i.indexOf(" "+vn[vn.length-1].name+" ")<0&&u("A '<{a}>' must be within '<{b}>'.",En,e,i);else if(!an.adsafe&&!an.fragment){n=vn.length;do n<=0&&u("A '<{a}>' must be within '<{b}>'.",En,e,"body"),n-=1;while(vn[n].name!=="body")}}switch(e){case"div":an.adsafe&&vn.length===1&&!xt&&s("ADSAFE violation: missing ID_.");break;case"script":Cn="script",h(">"),Gt=sn.from,t.lang&&s("lang is deprecated.",En),an.adsafe&&vn.length!==1&&s("ADsafe script placement violation.",En),t.src?(an.adsafe&&(!Tt||!kt[t.src])&&s("ADsafe unapproved script source.",En),t.type&&s("type is unnecessary.",En)):(Nt&&u("ADsafe script violation.",En),U(),z("script")),Cn="html",h("</"),!sn.identifier&&sn.value!=="script"&&s("Expected '{a}' and instead saw '{b}'.",sn,"script",sn.value),h(),Cn="outer";break;case"style":Cn="style",h(">"),pt(),Cn="html",h("</"),!sn.identifier&&sn.value!=="style"&&s("Expected '{a}' and instead saw '{b}'.",sn,"style",sn.value),h(),Cn="outer";break;case"input":switch(t.type){case"radio":case"checkbox":case"button":case"reset":case"submit":break;case"text":case"file":case"password":case"file":case"hidden":case"image":an.adsafe&&t.autocomplete!=="off"&&s("ADsafe autocomplete violation.");break;default:s("Bad input type.")}break;case"applet":case"body":case"embed":case"frame":case"frameset":case"head":case"iframe":case"noembed":case"noframes":case"object":case"param":an.adsafe&&s("ADsafe violation: Disallowed tag: "+e)}}function gt(e){return"</"+e+">"}function yt(){var e,n,r,i,o,a,f,l=an.white,c;Cn="html",kn="",vn=null;for(;;){switch(sn.value){case"<":Cn="html",h("<"),n={},a=sn,a.identifier||s("Bad identifier {a}.",a,a.value),i=a.value,an.cap&&(i=i.toLowerCase()),a.name=i,h(),vn||(vn=[],dt(i)),f=$t[i],typeof f!="object"&&u("Unrecognized tag '<{a}>'.",a,i),r=f.empty,a.type=i;for(;;){if(sn.id==="/"){h("/"),sn.id!==">"&&s("Expected '{a}' and instead saw '{b}'.",sn,">",sn.value);break}if(sn.id&&sn.id.substr(0,1)===">")break;sn.identifier||((sn.id==="(end)"||sn.id==="(error)")&&u("Missing '>'.",sn),s("Bad identifier.")),an.white=!0,g(En,sn),e=sn.value,an.white=l,h(),!an.cap&&e!==e.toLowerCase()&&s("Attribute '{a}' not all lower case.",sn,e),e=e.toLowerCase(),kn="",t(n,e)&&s("Attribute '{a}' repeated.",sn,e),e.slice(0,2)==="on"?(an.on||s("Avoid HTML event handlers."),Cn="scriptstring",h("="),o=sn.id,o!=='"'&&o!=="'"&&u("Missing quote."),kn=o,c=an.white,an.white=!1,h(o),U(),z("on"),an.white=c,sn.id!==o&&u("Missing close quote on script attribute."),Cn="html",kn="",h(o),f=!1):e==="style"?(Cn="scriptstring",h("="),o=sn.id,o!=='"'&&o!=="'"&&u("Missing quote."),Cn="styleproperty",kn=o,h(o),ft(),Cn="html",kn="",h(o),f=!1):sn.id==="="?(h("="),f=sn.value,!sn.identifier&&sn.id!=='"'&&sn.id!=="'"&&sn.type!=="(string)"&&sn.type!=="(number)"&&sn.type!=="(color)"&&s("Expected an attribute value and instead saw '{a}'.",En,e),h()):f=!0,n[e]=f,vt(i,e,f)}mt(i,n),r||vn.push(a),Cn="outer",h(">");break;case"</":Cn="html",h("</"),sn.identifier||s("Bad identifier."),i=sn.value,an.cap&&(i=i.toLowerCase()),h(),vn||u("Unexpected '{a}'.",sn,gt(i)),a=vn.pop(),a||u("Unexpected '{a}'.",sn,gt(i)),a.name!==i&&u("Expected '{a}' and instead saw '{b}'.",sn,gt(a.name),gt(i)),sn.id!==">"&&u("Missing '{a}'.",sn,">"),Cn="outer",h(">");break;case"<!":an.safe&&s("ADsafe HTML violation."),Cn="html";for(;;){h();if(sn.id===">"||sn.id==="(end)")break;sn.value.indexOf("--")>=0&&u("Unexpected --."),sn.value.indexOf("<")>=0&&u("Unexpected <."),sn.value.indexOf(">")>=0&&u("Unexpected >.")}Cn="outer",h(">");break;case"(end)":return;default:sn.id==="(end)"?u("Missing '{a}'.",sn,"</"+vn[vn.length-1].value+">"):h()}if(vn&&vn.length===0&&(an.adsafe||!an.fragment||sn.id==="(end)"))break}sn.id!=="(end)"&&u("Unexpected material after the end.")}function bt(){var e=F(!0);return e||(sn.id==="(string)"?(e=sn.value,an.adsafe&&(e.charAt(0)==="_"||e.charAt(e.length-1)==="_")&&s("Unexpected {a} in '{b}'.",En,"dangling '_'",e),h()):sn.id==="(number)"&&(e=sn.value.toString(),h())),e}function wt(){var e,t=sn,n=[];h("("),m();if(sn.id===")"){h(")"),m(cn,En);return}for(;;){e=I(!0),n.push(e),f(e,"parameter");if(sn.id!==",")return h(")",t),m(cn,En),n;E()}}function Et(e,t){var n,r=pn;return pn=Object.create(r),zt={"(name)":e||'"'+Ct+'"',"(line)":sn.line,"(context)":zt,"(breakage)":0,"(loopage)":0,"(scope)":pn,"(statement)":t},n=zt,En.funct=zt,Xt.push(zt),e&&f(e,"function"),zt["(params)"]=wt(),W(!1),pn=r,zt["(last)"]=En.line,zt=zt["(context)"],n}function St(){function e(){var e={},t=sn;h("{");if(sn.id!=="}")for(;;){if(sn.id==="(end)")u("Missing '}' to match '{' from line {a}.",sn,t.line);else{if(sn.id==="}"){s("Unexpected comma.",En);break}sn.id===","?u("Unexpected comma.",sn):sn.id!=="(string)"&&s("Expected a string and instead saw {a}.",sn,sn.value)}e[sn.value]===!0?s("Duplicate key '{a}'.",sn,sn.value):sn.value==="__proto__"?s("Stupid key '{a}'.",sn,sn.value):e[sn.value]=!0,h(),h(":"),St();if(sn.id!==",")break;h(",")}h("}")}function t(){var e=sn;h("[");if(sn.id!=="]")for(;;){if(sn.id==="(end)")u("Missing ']' to match '[' from line {a}.",sn,e.line);else{if(sn.id==="]"){s("Unexpected comma.",En);break}sn.id===","&&u("Unexpected comma.",sn)}St();if(sn.id!==",")break;h(",")}h("]")}switch(sn.id){case"{":e();break;case"[":t();break;case"true":case"false":case"null":case"(number)":case"(string)":h();break;case"-":h("-"),En.character!==sn.from&&s("Unexpected space after '-'.",En),d(En,sn),h("(number)");break;default:u("Expected a JSON value.",sn)}}var xt,Tt,Nt,Ct,kt,Lt={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},At={arguments:!0,callee:!0,caller:!0,constructor:!0,eval:!0,prototype:!0,stack:!0,unwatch:!0,valueOf:!0,watch:!0},Ot={adsafe:!0,asi:!0,bitwise:!0,boss:!0,browser:!0,cap:!0,couch:!0,css:!0,curly:!0,debug:!0,devel:!0,eqeqeq:!0,es5:!0,evil:!0,forin:!0,fragment:!0,immed:!0,jquery:!0,laxbreak:!0,loopfunc:!0,newcap:!0,noarg:!0,node:!0,noempty:!0,nonew:!0,nomen:!0,on:!0,onevar:!0,passfail:!0,plusplus:!0,regexp:!0,rhino:!0,undef:!0,safe:!0,windows:!0,strict:!0,sub:!0,white:!0,widget:!0},Mt={addEventListener:!1,applicationCache:!1,blur:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,defaultStatus:!1,document:!1,event:!1,FileReader:!1,focus:!1,frames:!1,getComputedStyle:!1,history:!1,Image:!1,length:!1,localStorage:!1,location:!1,moveBy:!1,moveTo:!1,name:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,print:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,setInterval:!1,setTimeout:!1,status:!1,top:!1,WebSocket:!1,window:!1,Worker:!1,XMLHttpRequest:!1},_t={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1},Dt,Pt,Ht={aliceblue:!0,antiquewhite:!0,aqua:!0,aquamarine:!0,azure:!0,beige:!0,bisque:!0,black:!0,blanchedalmond:!0,blue:!0,blueviolet:!0,brown:!0,burlywood:!0,cadetblue:!0,chartreuse:!0,chocolate:!0,coral:!0,cornflowerblue:!0,cornsilk:!0,crimson:!0,cyan:!0,darkblue:!0,darkcyan:!0,darkgoldenrod:!0,darkgray:!0,darkgreen:!0,darkkhaki:!0,darkmagenta:!0,darkolivegreen:!0,darkorange:!0,darkorchid:!0,darkred:!0,darksalmon:!0,darkseagreen:!0,darkslateblue:!0,darkslategray:!0,darkturquoise:!0,darkviolet:!0,deeppink:!0,deepskyblue:!0,dimgray:!0,dodgerblue:!0,firebrick:!0,floralwhite:!0,forestgreen:!0,fuchsia:!0,gainsboro:!0,ghostwhite:!0,gold:!0,goldenrod:!0,gray:!0,green:!0,greenyellow:!0,honeydew:!0,hotpink:!0,indianred:!0,indigo:!0,ivory:!0,khaki:!0,lavender:!0,lavenderblush:!0,lawngreen:!0,lemonchiffon:!0,lightblue:!0,lightcoral:!0,lightcyan:!0,lightgoldenrodyellow:!0,lightgreen:!0,lightpink:!0,lightsalmon:!0,lightseagreen:!0,lightskyblue:!0,lightslategray:!0,lightsteelblue:!0,lightyellow:!0,lime:!0,limegreen:!0,linen:!0,magenta:!0,maroon:!0,mediumaquamarine:!0,mediumblue:!0,mediumorchid:!0,mediumpurple:!0,mediumseagreen:!0,mediumslateblue:!0,mediumspringgreen:!0,mediumturquoise:!0,mediumvioletred:!0,midnightblue:!0,mintcream:!0,mistyrose:!0,moccasin:!0,navajowhite:!0,navy:!0,oldlace:!0,olive:!0,olivedrab:!0,orange:!0,orangered:!0,orchid:!0,palegoldenrod:!0,palegreen:!0,paleturquoise:!0,palevioletred:!0,papayawhip:!0,peachpuff:!0,peru:!0,pink:!0,plum:!0,powderblue:!0,purple:!0,red:!0,rosybrown:!0,royalblue:!0,saddlebrown:!0,salmon:!0,sandybrown:!0,seagreen:!0,seashell:!0,sienna:!0,silver:!0,skyblue:!0,slateblue:!0,slategray:!0,snow:!0,springgreen:!0,steelblue:!0,tan:!0,teal:!0,thistle:!0,tomato:!0,turquoise:!0,violet:!0,wheat:!0,white:!0,whitesmoke:!0,yellow:!0,yellowgreen:!0,activeborder:!0,activecaption:!0,appworkspace:!0,background:!0,buttonface:!0,buttonhighlight:!0,buttonshadow:!0,buttontext:!0,captiontext:!0,graytext:!0,highlight:!0,highlighttext:!0,inactiveborder:!0,inactivecaption:!0,inactivecaptiontext:!0,infobackground:!0,infotext:!0,menu:!0,menutext:!0,scrollbar:!0,threeddarkshadow:!0,threedface:!0,threedhighlight:!0,threedlightshadow:!0,threedshadow:!0,window:!0,windowframe:!0,windowtext:!0},Bt,jt,Ft={"%":!0,cm:!0,em:!0,ex:!0,"in":!0,mm:!0,pc:!0,pt:!0,px:!0},It,qt,Rt={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},Ut={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"/":"\\/","\\":"\\\\"},zt,Wt=["closure","exception","global","label","outer","unused","var"],Xt,Vt,$t={a:{},abbr:{},acronym:{},address:{},applet:{},area:{empty:!0,parent:" map "},article:{},aside:{},audio:{},b:{},base:{empty:!0,parent:" head "},bdo:{},big:{},blockquote:{},body:{parent:" html noframes "},br:{empty:!0},button:{},canvas:{parent:" body p div th td "},caption:{parent:" table "},center:{},cite:{},code:{},col:{empty:!0,parent:" table colgroup "},colgroup:{parent:" table "},command:{parent:" menu "},datalist:{},dd:{parent:" dl "},del:{},details:{},dialog:{},dfn:{},dir:{},div:{},dl:{},dt:{parent:" dl "},em:{},embed:{},fieldset:{},figure:{},font:{},footer:{},form:{},frame:{empty:!0,parent:" frameset "},frameset:{parent:" html frameset "},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{parent:" html "},header:{},hgroup:{},hr:{empty:!0},"hta:application":{empty:!0,parent:" head "},html:{parent:"*"},i:{},iframe:{},img:{empty:!0},input:{empty:!0},ins:{},kbd:{},keygen:{},label:{},legend:{parent:" details fieldset figure "},li:{parent:" dir menu ol ul "},link:{empty:!0,parent:" head "},map:{},mark:{},menu:{},meta:{empty:!0,parent:" head noframes noscript "},meter:{},nav:{},noframes:{parent:" html body "},noscript:{parent:" body head noframes "},object:{},ol:{},optgroup:{parent:" select "},option:{parent:" optgroup select "},output:{},p:{},param:{empty:!0,parent:" applet object "},pre:{},progress:{},q:{},rp:{},rt:{},ruby:{},samp:{},script:{empty:!0,parent:" body div frame head iframe p pre span "},section:{},select:{},small:{},span:{},source:{},strong:{},style:{parent:" head ",empty:!0},sub:{},sup:{},table:{},tbody:{parent:" table "},td:{parent:" tr "},textarea:{},tfoot:{parent:" table "},th:{parent:" tr "},thead:{parent:" table "},time:{},title:{parent:" head "},tr:{parent:" table tbody thead tfoot "},tt:{},u:{},ul:{},"var":{},video:{}},Jt,Kt,Qt,Gt,Yt,Zt={$:!1,jQuery:!1},en,tn,nn,rn,sn,on={__filename:!1,__dirname:!1,Buffer:!1,GLOBAL:!1,global:!1,module:!1,process:!1,require:!1},un,an,fn,ln,cn,hn={defineClass:!1,deserialize:!1,gc:!1,help:!1,load:!1,loadClass:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},pn,dn,vn,mn={Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,JSON:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},gn={E:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,MAX_VALUE:!0,MIN_VALUE:!0,NEGATIVE_INFINITY:!0,PI:!0,POSITIVE_INFINITY:!0,SQRT1_2:!0,SQRT2:!0},yn,bn={},wn,En,Sn,xn,Tn={alert:!0,animator:!0,appleScript:!0,beep:!0,bytesToUIString:!0,Canvas:!0,chooseColor:!0,chooseFile:!0,chooseFolder:!0,closeWidget:!0,COM:!0,convertPathToHFS:!0,convertPathToPlatform:!0,CustomAnimation:!0,escape:!0,FadeAnimation:!0,filesystem:!0,Flash:!0,focusWidget:!0,form:!0,FormField:!0,Frame:!0,HotKey:!0,Image:!0,include:!0,isApplicationRunning:!0,iTunes:!0,konfabulatorVersion:!0,log:!0,md5:!0,MenuItem:!0,MoveAnimation:!0,openURL:!0,play:!0,Point:!0,popupMenu:!0,preferenceGroups:!0,preferences:!0,print:!0,prompt:!0,random:!0,Rectangle:!0,reloadWidget:!0,ResizeAnimation:!0,resolvePath:!0,resumeUpdates:!0,RotateAnimation:!0,runCommand:!0,runCommandInBg:!0,saveAs:!0,savePreferences:!0,screen:!0,ScrollBar:!0,showWidgetPreferences:!0,sleep:!0,speak:!0,Style:!0,suppressUpdates:!0,system:!0,tellWidget:!0,Text:!0,TextArea:!0,Timer:!0,unescape:!0,updateNow:!0,URL:!0,Web:!0,widget:!0,Window:!0,XMLDOM:!0,XMLHttpRequest:!0,yahooCheckLogin:!0,yahooLogin:!0,yahooLogout:!0},Nn={ActiveXObject:!1,CScript:!1,Debug:!1,Enumerator:!1,System:!1,VBArray:!1,WScript:!1},Cn,kn,Ln=/@cc|<\/?|script|\]\s*\]|<\s*!|&lt/i,An=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,On=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jshint|members?|global)?|=|\/)?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/,Mn=/^\s*(['"=>\/&#]|<(?:\/|\!(?:--)?)?|[a-zA-Z][a-zA-Z0-9_\-:]*|[0-9]+|--)/,_n=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,Dn=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Pn=/[>&]|<[\/!]?|--/,Hn=/\*\/|\/\*/,Bn=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,jn=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i,Fn=/&|\+|\u00AD|\.\.|\/\*|%[^;]|base64|url|expression|data|mailto/i,In=/^\s*([{:#%.=,>+\[\]@()"';]|\*=?|\$=|\|=|\^=|~=|[a-zA-Z_][a-zA-Z0-9_\-]*|[0-9]+|<\/|\/\*)/,qn=/^\s*([@#!"'};:\-%.=,+\[\]()*_]|[a-zA-Z][a-zA-Z0-9._\-]*|\/\*?|\d+(?:\.\d+)?|<\/)/,Rn=/[^a-zA-Z0-9+\-_\/ ]/,Un=/[\[\]\/\\"'*<>.&:(){}+=#]/,zn=/^\s*\/\*\s*falls\sthrough\s*\*\/\s*$/,Wn={outer:Mn,html:Mn,style:In,styleproperty:qn};typeof Array.isArray!="function"&&(Array.isArray=function(e){return Object.prototype.toString.apply(e)==="[object Array]"}),typeof Object.create!="function"&&(Object.create=function(t){return e.prototype=t,new e}),typeof Object.keys!="function"&&(Object.keys=function(e){var n=[],r;for(r in e)t(e,r)&&n.push(r);return n}),typeof String.prototype.entityify!="function"&&(String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}),typeof String.prototype.isAlpha!="function"&&(String.prototype.isAlpha=function(){return this>="a"&&this<="z￿"||this>="A"&&this<="Z￿"}),typeof String.prototype.isDigit!="function"&&(String.prototype.isDigit=function(){return this>="0"&&this<="9"}),typeof String.prototype.supplant!="function"&&(String.prototype.supplant=function(e){return this.replace(/\{([^{}]*)\}/g,function(t,n){var r=e[n];return typeof r=="string"||typeof r=="number"?r:t})}),typeof String.prototype.name!="function"&&(String.prototype.name=function(){return Bn.test(this)?this:_n.test(this)?'"'+this.replace(Dn,function(e){var t=Ut[e];return t?t:"\\u"+("0000"+e.charCodeAt().toString(16)).slice(-4)})+'"':'"'+this+'"'});var Xn=function(){function e(){var e;return s>=en.length?!1:(r=1,u=en[s],s+=1,e=u.search(/ \t/),e>=0&&o("Mixed spaces and tabs.",s,e+1),u=u.replace(/\t/g,wn),e=u.search(An),e>=0&&o("Unsafe character.",s,e),an.maxlen&&an.maxlen<u.length&&o("Line too long.",s,u.length),!0)}function n(e,n){var u,f;return e==="(color)"||e==="(range)"?f={type:e}:e==="(punctuator)"||e==="(identifier)"&&t(bn,n)?f=bn[n]||bn["(error)"]:f=bn[e],f=Object.create(f),(e==="(string)"||e==="(range)")&&jn.test(n)&&o("Script URL.",s,i),e==="(identifier)"&&(f.identifier=!0,n==="__iterator__"||n==="__proto__"?a("Reserved name '{a}'.",s,i,n):an.nomen&&(n.charAt(0)==="_"||n.charAt(n.length-1)==="_")&&o("Unexpected {a} in '{b}'.",s,i,"dangling '_'",n)),f.value=n,f.line=s,f.character=r,f.from=i,u=f.id,u!=="(endline)"&&(ln=u&&("(,=:[!&|?{};".indexOf(u.charAt(u.length-1))>=0||u==="return")),f}var r,i,s,u;return{init:function(t){typeof t=="string"?en=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"):en=t,s=0,e(),i=1},range:function(e,t){var f,l="";i=r,u.charAt(0)!==e&&a("Expected '{a}' and instead saw '{b}'.",s,r,e,u.charAt(0));for(;;){u=u.slice(1),r+=1,f=u.charAt(0);switch(f){case"":a("Missing '{a}'.",s,r,f);break;case t:return u=u.slice(1),r+=1,n("(range)",l);case kn:case"\\":o("Unexpected '{a}'.",s,r,f)}l+=f}},token:function(){function t(e){var t=e.exec(u),n;if(t)return g=t[0].length,n=t[1],c=n.charAt(0),u=u.substr(g),i=r+g-n.length,r+=g,n}function f(t){function f(e){var t=parseInt(u.substr(c+1,e),16);c+=e,t>=32&&t<=126&&t!==34&&t!==92&&t!==39&&o("Unnecessary escapement.",s,r),r+=e,l=String.fromCharCode(t)}var l,c,h="";Yt&&t!=='"'&&o("Strings must use doublequote.",s,r);if(kn===t||Cn==="scriptstring"&&!kn)return n("(punctuator)",t);c=0;for(;;){while(c>=u.length)c=0,(Cn!=="html"||!e())&&a("Unclosed string.",s,i);l=u.charAt(c);if(l===t)return r+=1,u=u.substr(c+1),n("(string)",h,t);if(l<" "){if(l==="\n"||l==="\r")break;o("Control character in string: {a}.",s,r+c,u.slice(0,c))}else if(l===kn)o("Bad HTML string",s,r+c);else if(l==="<")an.safe&&Cn==="html"?o("ADsafe string violation.",s,r+c):u.charAt(c+1)==="/"&&(Cn||an.safe)?o("Expected '<\\/' and instead saw '</'.",s,r):u.charAt(c+1)==="!"&&(Cn||an.safe)&&o("Unexpected '<!' in a string.",s,r);else if(l==="\\")if(Cn==="html")an.safe&&o("ADsafe string violation.",s,r+c);else if(Cn==="styleproperty")c+=1,r+=1,l=u.charAt(c),l!==t&&o("Escapement in style string.",s,r+c);else{c+=1,r+=1,l=u.charAt(c);switch(l){case kn:o("Bad HTML string",s,r+c);break;case"\\":case'"':case"/":break;case"'":Yt&&o("Avoid \\'.",s,r);break;case"b":l="\b";break;case"f":l="\f";break;case"n":l="\n";break;case"r":l="\r";break;case"t":l="	";break;case"u":f(4);break;case"v":Yt&&o("Avoid \\v.",s,r),l="";break;case"x":Yt&&o("Avoid \\x-.",s,r),f(2);break;default:o("Bad escapement.",s,r)}}h+=l,r+=1,c+=1}}var l,c,h,p,d,v,m,g,y,b,w;for(;;){if(!u)return n(e()?"(endline)":"(end)","");while(Cn==="outer"){m=u.search(Pn);if(m===0)break;if(m>0){r+=1,u=u.slice(m);break}if(!e())return n("(end)","")}w=t(Wn[Cn]||On);if(!w){w="",c="";while(u&&u<"!")u=u.substr(1);if(u){if(Cn==="html")return n("(error)",u.charAt(0));a("Unexpected '{a}'.",s,r,u.substr(0,1))}}else{if(c.isAlpha()||c==="_"||c==="$")return n("(identifier)",w);if(c.isDigit())return Cn!=="style"&&!isFinite(Number(w))&&o("Bad number '{a}'.",s,r,w),Cn!=="style"&&Cn!=="styleproperty"&&u.substr(0,1).isAlpha()&&o("Missing space after '{a}'.",s,r,w),c==="0"&&(p=w.substr(1,1),p.isDigit()?En.id!=="."&&Cn!=="styleproperty"&&o("Don't use extra leading zeros '{a}'.",s,r,w):Yt&&(p==="x"||p==="X")&&o("Avoid 0x-. '{a}'.",s,r,w)),w.substr(w.length-1)==="."&&o("A trailing decimal point can be confused with a dot '{a}'.",s,r,w),n("(number)",w);switch(w){case'"':case"'":return f(w);case"//":dn||Cn&&Cn!=="script"?o("Unexpected comment.",s,r):Cn==="script"&&/<\s*\//i.test(u)?o("Unexpected </ in comment.",s,r):(an.safe||Cn==="script")&&Ln.test(u)&&o("Dangerous comment.",s,r),u="",En.comment=!0;break;case"/*":(dn||Cn&&Cn!=="script"&&Cn!=="style"&&Cn!=="styleproperty")&&o("Unexpected comment.",s,r),an.safe&&Ln.test(u)&&o("ADsafe comment violation.",s,r);for(;;){m=u.search(Hn);if(m>=0)break;e()?an.safe&&Ln.test(u)&&o("ADsafe comment violation.",s,r):a("Unclosed comment.",s,r)}r+=m+2,u.substr(m,1)==="/"&&a("Nested comment.",s,r),u=u.substr(m+2),En.comment=!0;break;case"/*members":case"/*member":case"/*jshint":case"/*global":case"*/":return{value:w,type:"special",line:s,character:r,from:i};case"":break;case"/":En.id==="/="&&a("A regular expression literal can be confused with '/='.",s,i);if(ln){d=0,h=0,g=0;for(;;){l=!0,c=u.charAt(g),g+=1;switch(c){case"":a("Unclosed regular expression.",s,i);return;case"/":d>0&&o("Unescaped '{a}'.",s,i+g,"/"),c=u.substr(0,g-1),b={g:!0,i:!0,m:!0};while(b[u.charAt(g)]===!0)b[u.charAt(g)]=!1,g+=1;return r+=g,u=u.substr(g),b=u.charAt(0),(b==="/"||b==="*")&&a("Confusing regular expression.",s,i),n("(regexp)",c);case"\\":c=u.charAt(g),c<" "?o("Unexpected control character in regular expression.",s,i+g):c==="<"&&o("Unexpected escaped character '{a}' in regular expression.",s,i+g,c),g+=1;break;case"(":d+=1,l=!1;if(u.charAt(g)==="?"){g+=1;switch(u.charAt(g)){case":":case"=":case"!":g+=1;break;default:o("Expected '{a}' and instead saw '{b}'.",s,i+g,":",u.charAt(g))}}else h+=1;break;case"|":l=!1;break;case")":d===0?o("Unescaped '{a}'.",s,i+g,")"):d-=1;break;case" ":b=1;while(u.charAt(g)===" ")g+=1,b+=1;b>1&&o("Spaces are hard to count. Use {{a}}.",s,i+g,b);break;case"[":c=u.charAt(g),c==="^"&&(g+=1,an.regexp?o("Insecure '{a}'.",s,i+g,c):u.charAt(g)==="]"&&a("Unescaped '{a}'.",s,i+g,"^")),b=!1,c==="]"&&(o("Empty class.",s,i+g-1),b=!0);e:do{c=u.charAt(g),g+=1;switch(c){case"[":case"^":o("Unescaped '{a}'.",s,i+g,c),b=!0;break;case"-":b?b=!1:(o("Unescaped '{a}'.",s,i+g,"-"),b=!0);break;case"]":b||o("Unescaped '{a}'.",s,i+g-1,"-");break e;case"\\":c=u.charAt(g),c<" "?o("Unexpected control character in regular expression.",s,i+g):c==="<"&&o("Unexpected escaped character '{a}' in regular expression.",s,i+g,c),g+=1,b=!0;break;case"/":o("Unescaped '{a}'.",s,i+g-1,"/"),b=!0;break;case"<":Cn==="script"&&(c=u.charAt(g),(c==="!"||c==="/")&&o("HTML confusion in regular expression '<{a}'.",s,i+g,c)),b=!0;break;default:b=!0}}while(c);break;case".":an.regexp&&o("Insecure '{a}'.",s,i+g,c);break;case"]":case"?":case"{":case"}":case"+":case"*":o("Unescaped '{a}'.",s,i+g,c);break;case"<":Cn==="script"&&(c=u.charAt(g),(c==="!"||c==="/")&&o("HTML confusion in regular expression '<{a}'.",s,i+g,c))}if(l)switch(u.charAt(g)){case"?":case"+":case"*":g+=1,u.charAt(g)==="?"&&(g+=1);break;case"{":g+=1,c=u.charAt(g),(c<"0"||c>"9")&&o("Expected a number and instead saw '{a}'.",s,i+g,c),g+=1,y=+c;for(;;){c=u.charAt(g);if(c<"0"||c>"9")break;g+=1,y=+c+y*10}v=y;if(c===","){g+=1,v=Infinity,c=u.charAt(g);if(c>="0"&&c<="9"){g+=1,v=+c;for(;;){c=u.charAt(g);if(c<"0"||c>"9")break;g+=1,v=+c+v*10}}}u.charAt(g)!=="}"?o("Expected '{a}' and instead saw '{b}'.",s,i+g,"}",c):g+=1,u.charAt(g)==="?"&&(g+=1),y>v&&o("'{a}' should not be greater than '{b}'.",s,i+g,y,v)}}return c=u.substr(0,g-1),r+=g,u=u.substr(g),n("(regexp)",c)}return n("(punctuator)",w);case"<!--":g=s,c=r;for(;;){m=u.indexOf("--");if(m>=0)break;m=u.indexOf("<!"),m>=0&&a("Nested HTML comment.",s,r+m),e()||a("Unclosed HTML comment.",g,c)}g=u.indexOf("<!"),g>=0&&g<m&&a("Nested HTML comment.",s,r+g),r+=m,u.charAt(m+2)!==">"&&a("Expected -->.",s,r),r+=3,u=u.slice(m+3);break;case"#":if(Cn==="html"||Cn==="styleproperty"){for(;;){c=u.charAt(0);if((c<"0"||c>"9")&&(c<"a"||c>"f")&&(c<"A"||c>"F"))break;r+=1,u=u.substr(1),w+=c}return w.length!==4&&w.length!==7&&o("Bad hex color '{a}'.",s,i+g,w),n("(color)",w)}return n("(punctuator)",w);default:if(Cn==="outer"&&c==="&"){r+=1,u=u.substr(1);for(;;){c=u.charAt(0),r+=1,u=u.substr(1);if(c===";")break;c>="0"&&c<="9"||c>="a"&&c<="z"||c==="#"||a("Bad entity",s,i+g,r)}break}return n("(punctuator)",w)}}}}}}();Pt=[st,function(){for(;;)if(sn.identifier)switch(sn.value.toLowerCase()){case"url":st();break;case"expression":s("Unexpected expression '{a}'.",sn,sn.value),h();break;default:h()}else{if(sn.id===";"||sn.id==="!"||sn.id==="(end)"||sn.id==="}")return!0;h()}}],Bt=["none","dashed","dotted","double","groove","hidden","inset","outset","ridge","solid"],jt=["auto","always","avoid","left","right"],It={all:!0,braille:!0,embossed:!0,handheld:!0,print:!0,projection:!0,screen:!0,speech:!0,tty:!0,tv:!0},qt=["auto","hidden","scroll","visible"],Dt={background:[!0,"background-attachment","background-color","background-image","background-position","background-repeat"],"background-attachment":["scroll","fixed"],"background-color":["transparent",Q],"background-image":["none",st],"background-position":[2,[G,"top","bottom","left","right","center"]],"background-repeat":["repeat","repeat-x","repeat-y","no-repeat"],border:[!0,"border-color","border-style","border-width"],"border-bottom":[!0,"border-bottom-color","border-bottom-style","border-bottom-width"],"border-bottom-color":Q,"border-bottom-style":Bt,"border-bottom-width":Z,"border-collapse":["collapse","separate"],"border-color":["transparent",4,Q],"border-left":[!0,"border-left-color","border-left-style","border-left-width"],"border-left-color":Q,"border-left-style":Bt,"border-left-width":Z,"border-right":[!0,"border-right-color","border-right-style","border-right-width"],"border-right-color":Q,"border-right-style":Bt,"border-right-width":Z,"border-spacing":[2,G],"border-style":[4,Bt],"border-top":[!0,"border-top-color","border-top-style","border-top-width"],"border-top-color":Q,"border-top-style":Bt,"border-top-width":Z,"border-width":[4,Z],bottom:[G,"auto"],"caption-side":["bottom","left","right","top"],clear:["both","left","none","right"],clip:[it,"auto"],color:Q,content:["open-quote","close-quote","no-open-quote","no-close-quote",K,st,rt,tt],"counter-increment":[$,"none"],"counter-reset":[$,"none"],cursor:[st,"auto","crosshair","default","e-resize","help","move","n-resize","ne-resize","nw-resize","pointer","s-resize","se-resize","sw-resize","w-resize","text","wait"],direction:["ltr","rtl"],display:["block","compact","inline","inline-block","inline-table","list-item","marker","none","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],"empty-cells":["show","hide"],"float":["left","none","right"],font:["caption","icon","menu","message-box","small-caption","status-bar",!0,"font-size","font-style","font-weight","font-family"],"font-family":nt,"font-size":["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller",G],"font-size-adjust":["none",J],"font-stretch":["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded"],"font-style":["normal","italic","oblique"],"font-variant":["normal","small-caps"],"font-weight":["normal","bold","bolder","lighter",J],height:[G,"auto"],left:[G,"auto"],"letter-spacing":["normal",G],"line-height":["normal",Y],"list-style":[!0,"list-style-image","list-style-position","list-style-type"],"list-style-image":["none",st],"list-style-position":["inside","outside"],"list-style-type":["circle","disc","square","decimal","decimal-leading-zero","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","hebrew","katakana","hiragana-iroha","katakana-oroha","none"],margin:[4,et],"margin-bottom":et,"margin-left":et,"margin-right":et,"margin-top":et,"marker-offset":[G,"auto"],"max-height":[G,"none"],"max-width":[G,"none"],"min-height":G,"min-width":G,opacity:J,outline:[!0,"outline-color","outline-style","outline-width"],"outline-color":["invert",Q],"outline-style":["dashed","dotted","double","groove","inset","none","outset","ridge","solid"],"outline-width":Z,overflow:qt,"overflow-x":qt,"overflow-y":qt,padding:[4,G],"padding-bottom":G,"padding-left":G,"padding-right":G,"padding-top":G,"page-break-after":jt,"page-break-before":jt,position:["absolute","fixed","relative","static"],quotes:[8,K],right:[G,"auto"],"table-layout":["auto","fixed"],"text-align":["center","justify","left","right"],"text-decoration":["none","underline","overline","line-through","blink"],"text-indent":G,"text-shadow":["none",4,[Q,G]],"text-transform":["capitalize","uppercase","lowercase","none"],top:[G,"auto"],"unicode-bidi":["normal","embed","bidi-override"],"vertical-align":["baseline","bottom","sub","super","top","text-top","middle","text-bottom",G],visibility:["visible","hidden","collapse"],"white-space":["normal","nowrap","pre","pre-line","pre-wrap","inherit"],width:[G,"auto"],"word-spacing":["normal",G],"word-wrap":["break-word","normal"],"z-index":["auto",J]},L("(number)",function(){return this}),L("(string)",function(){return this}),bn["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var e=this.value,t=pn[e],n;typeof t=="function"?t=undefined:typeof t=="boolean"&&(n=zt,zt=Xt[0],f(e,"var"),t=zt,zt=n);if(zt===t)switch(zt[e]){case"unused":zt[e]="var";break;case"unction":zt[e]="function",this["function"]=!0;break;case"function":this["function"]=!0;break;case"label":s("'{a}' is a statement label.",En,e)}else if(zt["(global)"])Ct!="typeof"&&Ct!="delete"&&an.undef&&typeof fn[e]!="boolean"&&s("'{a}' is not defined.",En,e),V(En);else switch(zt[e]){case"closure":case"function":case"var":case"unused":s("'{a}' used out of scope.",En,e);break;case"label":s("'{a}' is a statement label.",En,e);break;case"outer":case"global":break;default:if(t===!0)zt[e]=!0;else if(t===null)s("'{a}' is not allowed.",En,e),V(En);else if(typeof t!="object")Ct!="typeof"&&Ct!="delete"&&an.undef?s("'{a}' is not defined.",En,e):zt[e]=!0,V(En);else switch(t[e]){case"function":case"unction":this["function"]=!0,t[e]="closure",zt[e]=t["(global)"]?"global":"outer";break;case"var":case"unused":t[e]="closure",zt[e]=t["(global)"]?"global":"outer";break;case"closure":case"parameter":zt[e]=t["(global)"]?"global":"outer";break;case"label":s("'{a}' is a statement label.",En,e)}}return this},led:function(){u("Expected an operator and instead saw '{a}'.",sn,sn.value)}},L("(regexp)",function(){return this}),x("(endline)"),x("(begin)"),x("(end)").reach=!0,x("</").reach=!0,x("<!"),x("<!--"),x("-->"),x("(error)").reach=!0,x("}").reach=!0,x(")"),x("]"),x('"').reach=!0,x("'").reach=!0,x(";"),x(":").reach=!0,x(","),x("#"),x("@"),A("else"),A("case").reach=!0,A("catch"),A("default").reach=!0,A("finally"),O("arguments",function(e){yn&&zt["(global)"]?s("Strict violation.",e):an.safe&&s("ADsafe violation.",e)}),O("eval",function(e){an.safe&&s("ADsafe violation.",e)}),O("false"),O("Infinity"),O("NaN"),O("null"),O("this",function(e){yn&&(zt["(statement)"]&&zt["(name)"].charAt(0)>"Z"||zt["(global)"])?s("Strict violation.",e):an.safe&&s("ADsafe violation.",e)}),O("true"),O("undefined"),P("=","assign",20),P("+=","assignadd",20),P("-=","assignsub",20),P("*=","assignmult",20),P("/=","assigndiv",20).nud=function(){u("A regular expression literal can be confused with '/='.")},P("%=","assignmod",20),B("&=","assignbitand",20),B("|=","assignbitor",20),B("^=","assignbitxor",20),B("<<=","assignshiftleft",20),B(">>=","assignshiftright",20),B(">>>=","assignshiftrightunsigned",20),M("?",function(e,t){return t.left=e,t.right=p(10),h(":"),t["else"]=p(10),t},30),M("||","or",40),M("&&","and",50),H("|","bitor",70),H("^","bitxor",80),H("&","bitand",90),_("==",function(e,t){return an.eqeqeq?s("Expected '{a}' and instead saw '{b}'.",this,"===","=="):D(e)?s("Use '{a}' to compare with '{b}'.",this,"===",e.value):D(t)&&s("Use '{a}' to compare with '{b}'.",this,"===",t.value),this}),_("==="),_("!=",function(e,t){return an.eqeqeq?s("Expected '{a}' and instead saw '{b}'.",this,"!==","!="):D(e)?s("Use '{a}' to compare with '{b}'.",this,"!==",e.value):D(t)&&s("Use '{a}' to compare with '{b}'.",this,"!==",t.value),this}),_("!=="),_("<"),_(">"),_("<="),_(">="),H("<<","shiftleft",120),H(">>","shiftright",120),H(">>>","shiftrightunsigned",120),M("in","in",120),M("instanceof","instanceof",120),M("+",function(e,t){var n=p(130);return e&&n&&e.id==="(string)"&&n.id==="(string)"?(e.value+=n.value,e.character=n.character,jn.test(e.value)&&s("JavaScript URL.",e),e):(t.left=e,t.right=n,t)},130),k("+","num"),k("+++",function(){return s("Confusing pluses."),this.right=p(150),this.arity="unary",this}),M("+++",function(e){return s("Confusing pluses."),this.left=e,this.right=p(130),this},130),M("-","sub",130),k("-","neg"),k("---",function(){return s("Confusing minuses."),this.right=p(150),this.arity="unary",this}),M("---",function(e){return s("Confusing minuses."),this.left=e,this.right=p(130),this},130),M("*","mult",140),M("/","div",140),M("%","mod",140),j("++","postinc"),k("++","preinc"),bn["++"].exps=!0,j("--","postdec"),k("--","predec"),bn["--"].exps=!0,k("delete",function(){var e=p(0);return(!e||e.id!=="."&&e.id!=="[")&&s("Variables should not be deleted."),this.first=e,this}).exps=!0,k("~",function(){return an.bitwise&&s("Unexpected '{a}'.",this,"~"),p(150),this}),k("!",function(){return this.right=p(150),this.arity="unary",Lt[this.right.id]===!0&&s("Confusing use of '{a}'.",this,"!"),this}),k("typeof","typeof"),k("new",function(){var e=p(155),t;if(e&&e.id!=="function")if(e.identifier){e["new"]=!0;switch(e.value){case"Object":s("Use the object literal notation {}.",En);break;case"Array":return sn.id!=="("?s("Use the array literal notation [].",En):(h("("),sn.id===")"&&s("Use the array literal notation [].",En),h(")")),this.first=e,this;case"Number":case"String":case"Boolean":case"Math":case"JSON":s("Do not use {a} as a constructor.",En,e.value);break;case"Function":an.evil||s("The Function constructor is eval.");break;case"Date":case"RegExp":break;default:e.id!=="function"&&(t=e.value.substr(0,1),an.newcap&&(t<"A"||t>"Z")&&s("A constructor name should start with an uppercase letter.",En))}}else e.id!=="."&&e.id!=="["&&e.id!=="("&&s("Bad constructor.",En);else s("Weird construction. Delete 'new'.",this);return d(En,sn),sn.id!=="("&&s("Missing '()' invoking a constructor."),this.first=e,this}),bn["new"].exps=!0,M(".",function(e,t){d(cn,En),v();var n=I();typeof n=="string"&&X(n),t.left=e,t.right=n,an.noarg&&e&&e.value==="arguments"&&(n==="callee"||n==="caller")?s("Avoid arguments.{a}.",e,n):!an.evil&&e&&e.value==="document"&&(n==="write"||n==="writeln")?s("document.write can be a form of eval.",e):an.adsafe&&e&&e.value==="ADSAFE"&&(n==="id"||n==="lib"?s("ADsafe violation.",t):n==="go"&&(Cn!=="script"?s("ADsafe violation.",t):(Nt||sn.id!=="("||c(0).id!=="(string)"||c(0).value!==xt||c(1).id!==",")&&u("ADsafe violation: go.",t),Nt=!0,Tt=!1));if(!!an.evil||n!=="eval"&&n!=="execScript"){if(an.safe)for(;;){At[n]===!0&&s("ADsafe restricted word '{a}'.",En,n);if(typeof fn[e.value]!="boolean"||sn.id==="(")break;if(gn[n]===!0){sn.id==="."&&s("ADsafe violation.",t);break}if(sn.id!=="."){s("ADsafe violation.",t);break}h("."),En.left=t,En.right=n,t=En,n=I(),typeof n=="string"&&X(n)}}else s("eval is evil.");return t},160,!0),M("(",function(e,t){cn.id!=="}"&&cn.id!==")"&&v(cn,En),m(),an.immed&&!e.immed&&e.id==="function"&&s("Wrap an immediate function invocation in parentheses to assist the reader in understanding that the expression is the result of a function, and not the function itself.");var n=0,r=[];e&&(e.type==="(identifier)"?e.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&e.value!=="Number"&&e.value!=="String"&&e.value!=="Boolean"&&e.value!=="Date"&&(e.value==="Math"?s("Math is not a function.",e):an.newcap&&s("Missing 'new' prefix when invoking a constructor.",e)):e.id==="."&&an.safe&&e.left.value==="Math"&&e.right==="random"&&s("ADsafe violation.",e));if(sn.id!==")")for(;;){r[r.length]=p(10),n+=1;if(sn.id!==",")break;E()}return h(")"),m(cn,En),typeof e=="object"&&(e.value==="parseInt"&&n===1&&s("Missing radix parameter.",e),an.evil||(e.value==="eval"||e.value==="Function"||e.value==="execScript"?s("eval is evil.",e):r[0]&&r[0].id==="(string)"&&(e.value==="setTimeout"||e.value==="setInterval")&&s("Implied eval is evil. Pass a function instead of a string.",e)),!e.identifier&&e.id!=="."&&e.id!=="["&&e.id!=="("&&e.id!=="&&"&&e.id!=="||"&&e.id!=="?"&&s("Bad invocation.",e)),t.left=e,t},155,!0).exps=!0,k("(",function(){m(),sn.id==="function"&&(sn.immed=!0);var e=p(0);return h(")",this),m(cn,En),an.immed&&e.id==="function"&&(sn.id==="("?s("Move the invocation into the parens that contain the function.",sn):s("Do not wrap function literals in parens unless they are to be immediately invoked.",this)),e}),M("[",function(e,t){v(cn,En),m();var n=p(0),r;return n&&n.type==="(string)"?(an.safe&&At[n.value]===!0?s("ADsafe restricted word '{a}'.",t,n.value):!!an.evil||n.value!=="eval"&&n.value!=="execScript"?an.safe&&(n.value.charAt(0)==="_"||n.value.charAt(0)==="-")&&s("ADsafe restricted subscript '{a}'.",t,n.value):s("eval is evil.",t),X(n.value),!an.sub&&Bn.test(n.value)&&(r=bn[n.value],(!r||!r.reserved)&&s("['{a}'] is better written in dot notation.",n,n.value))):(!n||n.type!=="(number)"||n.value<0)&&an.safe&&s("ADsafe subscripting."),h("]",t),m(cn,En),t.left=e,t.right=n,t},160,!0),k("[",function(){var e=En.line!==sn.line;this.first=[],e&&(Gt+=an.indent,sn.from===Gt+an.indent&&(Gt+=an.indent));while(sn.id!=="(end)"){while(sn.id===",")s("Extra comma."),h(",");if(sn.id==="]")break;e&&En.line!==sn.line&&b(),this.first.push(p(10));if(sn.id!==",")break;E();if(sn.id==="]"&&!an.es5){s("Extra comma.",En);break}}return e&&(Gt-=an.indent,b()),h("]",this),this},160),function(e){e.nud=function(){var e,t,n,r,i,o={},a;e=En.line!==sn.line,e&&(Gt+=an.indent,sn.from===Gt+an.indent&&(Gt+=an.indent));for(;;){if(sn.id==="}")break;e&&b();if(sn.value==="get"&&c().id!==":")h("get"),an.es5||u("get/set are ES5 features."),n=bt(),n||u("Missing property name."),a=sn,d(En,sn),t=Et(n),!an.loopfunc&&zt["(loopage)"]&&s("Don't make functions within a loop.",a),i=t["(params)"],i&&s("Unexpected parameter '{a}' in get {b} function.",a,i[0],n),d(En,sn),h(","),b(),h("set"),r=bt(),n!==r&&u("Expected {a} and instead saw {b}.",En,n,r),a=sn,d(En,sn),t=Et(n),i=t["(params)"],(!i||i.length!==1||i[0]!=="value")&&s("Expected (value) in set {a} function.",a,n);else{n=bt();if(typeof n!="string")break;h(":"),g(En,sn),p(10)}o[n]===!0&&s("Duplicate member '{a}'.",sn,n),o[n]=!0,X(n);if(sn.id!==",")break;E(),sn.id===","?s("Extra comma.",En):sn.id==="}"&&!an.es5&&s("Extra comma.",En)}return e&&(Gt-=an.indent,b()),h("}",this),this},e.fud=function(){u("Expected to see a statement and instead saw a block.",En)}}(x("{"));var Vn=function(e){var t,n,r;zt["(onevar)"]&&an.onevar?s("Too many var statements."):zt["(global)"]||(zt["(onevar)"]=!0),this.first=[];for(;;){g(En,sn),t=I(),zt["(global)"]&&fn[t]===!1&&s("Redefinition of '{a}'.",En,t),f(t,"unused");if(e)break;n=En,this.first.push(En),sn.id==="="&&(g(En,sn),h("="),g(En,sn),sn.id==="undefined"&&s("It is not necessary to initialize '{a}' to 'undefined'.",En,t),c(0).id==="="&&sn.identifier&&u("Variable {a} was not declared correctly.",sn,sn.value),r=p(0),n.first=r);if(sn.id!==",")break;E()}return this};T("var",Vn).exps=!0,N("function",function(){Qt&&s("Function statements should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",En);var e=I();return d(En,sn),f(e,"unction"),Et(e,!0),sn.id==="("&&sn.line===En.line&&u("Function statements are not invocable. Wrap the whole function invocation in parens."),this}),k("function",function(){var e=F();return e?d(En,sn):g(En,sn),Et(e),!an.loopfunc&&zt["(loopage)"]&&s("Don't make functions within a loop."),this}),N("if",function(){var e=sn;return h("("),g(this,e),m(),p(20),sn.id==="="&&(an.boss||s("Expected a conditional expression and instead saw an assignment."),h("="),p(20)),h(")",e),m(cn,En),W(!0,!0),sn.id==="else"&&(g(En,sn),h("else"),sn.id==="if"||sn.id==="switch"?R(!0):W(!0,!0)),this}),N("try",function(){var e,t,n;an.adsafe&&s("ADsafe try violation.",this),W(!1),sn.id==="catch"&&(h("catch"),g(En,sn),h("("),n=pn,pn=Object.create(n),t=sn.value,sn.type!=="(identifier)"?s("Expected an identifier and instead saw '{a}'.",sn,t):f(t,"exception"),h(),h(")"),W(!1),e=!0,pn=n);if(sn.id==="finally"){h("finally"),W(!1);return}return e||u("Expected '{a}' and instead saw '{b}'.",sn,"catch",sn.value),this}),N("while",function(){var e=sn;return zt["(breakage)"]+=1,zt["(loopage)"]+=1,h("("),g(this,e),m(),p(20),sn.id==="="&&(an.boss||s("Expected a conditional expression and instead saw an assignment."),h("="),p(20)),h(")",e),m(cn,En),W(!0,!0),zt["(breakage)"]-=1,zt["(loopage)"]-=1,this}).labelled=!0,A("with"),N("switch",function(){var e=sn,t=!1;zt["(breakage)"]+=1,h("("),g(this,e),m(),this.condition=p(20),h(")",e),m(cn,En),g(En,sn),e=sn,h("{"),g(En,sn),Gt+=an.indent,this.cases=[];for(;;)switch(sn.id){case"case":switch(zt["(verb)"]){case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:zn.test(en[sn.line-2])||s("Expected a 'break' statement before 'case'.",En)}b(-an.indent),h("case"),this.cases.push(p(20)),t=!0,h(":"),zt["(verb)"]="case";break;case"default":switch(zt["(verb)"]){case"break":case"continue":case"return":case"throw":break;default:zn.test(en[sn.line-2])||s("Expected a 'break' statement before 'default'.",En)}b(-an.indent),h("default"),t=!0,h(":");break;case"}":Gt-=an.indent,b(),h("}",e),(this.cases.length===1||this.condition.id==="true"||this.condition.id==="false")&&s("This 'switch' should be an 'if'.",this),zt["(breakage)"]-=1,zt["(verb)"]=undefined;return;case"(end)":u("Missing '{a}'.",sn,"}");return;default:if(t)switch(En.id){case",":u("Each value should have its own case label.");return;case":":z();break;default:u("Missing ':' on a case clause.",En)}else u("Expected '{a}' and instead saw '{b}'.",sn,"case",sn.value)}}).labelled=!0,T("debugger",function(){return an.debug||s("All 'debugger' statements should be removed."),this}).exps=!0,function(){var e=T("do",function(){zt["(breakage)"]+=1,zt["(loopage)"]+=1,this.first=W(!0),h("while");var e=sn;return g(En,e),h("("),m(),p(20),sn.id==="="&&(an.boss||s("Expected a conditional expression and instead saw an assignment."),h("="),p(20)),h(")",e),m(cn,En),zt["(breakage)"]-=1,zt["(loopage)"]-=1,this});e.labelled=!0,e.exps=!0}(),N("for",function(){var e=an.forin,t,n=sn;zt["(breakage)"]+=1,zt["(loopage)"]+=1,h("("),g(this,n),m();if(c(sn.id==="var"?1:0).id==="in"){if(sn.id==="var")h("var"),Vn(!0);else{switch(zt[sn.value]){case"unused":zt[sn.value]="var";break;case"var":break;default:s("Bad for in variable '{a}'.",sn,sn.value)}h()}return h("in"),p(20),h(")",n),t=W(!0,!0),!e&&(t.length>1||typeof t[0]!="object"||t[0].value!=="if")&&s("The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",this),zt["(breakage)"]-=1,zt["(loopage)"]-=1,this}if(sn.id!==";")if(sn.id==="var")h("var"),Vn();else for(;;){p(0,"for");if(sn.id!==",")break;E()}w(En),h(";"),sn.id!==";"&&(p(20),sn.id==="="&&(an.boss||s("Expected a conditional expression and instead saw an assignment."),h("="),p(20))),w(En),h(";"),sn.id===";"&&u("Expected '{a}' and instead saw '{b}'.",sn,")",";");if(sn.id!==")")for(;;){p(0,"for");if(sn.id!==",")break;E()}return h(")",n),m(cn,En),W(!0,!0),zt["(breakage)"]-=1,zt["(loopage)"]-=1,this}).labelled=!0,T("break",function(){var e=sn.value;return zt["(breakage)"]===0&&s("Unexpected '{a}'.",sn,this.value),w(this),sn.id!==";"&&En.line===sn.line&&(zt[e]!=="label"?s("'{a}' is not a statement label.",sn,e):pn[e]!==zt&&s("'{a}' is out of scope.",sn,e),this.first=sn,h()),q("break"),this}).exps=!0,T("continue",function(){var e=sn.value;return zt["(breakage)"]===0&&s("Unexpected '{a}'.",sn,this.value),w(this),sn.id!==";"?En.line===sn.line&&(zt[e]!=="label"?s("'{a}' is not a statement label.",sn,e):pn[e]!==zt&&s("'{a}' is out of scope.",sn,e),this.first=sn,h()):zt["(loopage)"]||s("Unexpected '{a}'.",sn,this.value),q("continue"),this}).exps=!0,T("return",function(){return w(this),sn.id==="(regexp)"&&s("Wrap the /regexp/ literal in parens to disambiguate the slash operator."),sn.id!==";"&&!sn.reach&&(g(En,sn),this.first=p(20)),q("return"),this}).exps=!0,T("throw",function(){return w(this),g(En,sn),this.first=p(20),q("throw"),this}).exps=!0,A("void"),A("class"),A("const"),A("enum"),A("export"),A("extends"),A("import"),A("super"),A("let"),A("yield"),A("implements"),A("interface"),A("package"),A("private"),A("protected"),A("public"),A("static");var $n=function(e,t){var n,i,o;JSHINT.errors=[],fn=Object.create(mn);if(t){n=t.predef;if(n)if(Array.isArray(n))for(i=0;i<n.length;i+=1)fn[n[i]]=!0;else if(typeof n=="object"){o=Object.keys(n);for(i=0;i<o.length;i+=1)fn[o[i]]=!!n[o]}t.adsafe&&(t.safe=!0),t.safe&&(t.browser=t.css=t.debug=t.devel=t.evil=t.forin=t.loopfunc=t.on=t.rhino=t.windows=t.sub=t.widget=!1,t.eqeqeq=t.nomen=t.safe=t.undef=!0,fn.Date=fn.eval=fn.Function=fn.Object=null,fn.ADSAFE=fn.lib=!1),an=t}else an={};an.indent=an.indent||4,an.maxerr=an.maxerr||50,xt="",Tt=!1,Nt=!1,kt={};if(an.approved)for(i=0;i<an.approved.length;i+=1)kt[an.approved[i]]=an.approved[i];else kt.test="test";wn="";for(i=0;i<an.indent;i+=1)wn+=" ";Gt=1,Vt=Object.create(fn),pn=Vt,zt={"(global)":!0,"(name)":"(global)","(scope)":pn,"(breakage)":0,"(loopage)":0},Xt=[zt],Jt={},Sn=[],dn=!1,Cn=!1,vn=null,nn={},rn=null,Kt={},Qt=!1,tn=[],Yt=!1,xn=0,Xn.init(e),ln=!0,yn=!1,cn=En=sn=bn["(begin)"],r();try{h();if(sn.value.charAt(0)==="<")yt(),an.adsafe&&!Nt&&s("ADsafe violation: Missing ADSAFE.go.",this);else switch(sn.id){case"{":case"[":an.laxbreak=!0,Yt=!0,St();break;case"@":case"*":case"#":case".":case":":Cn="style",h(),(En.id!=="@"||!sn.identifier||sn.value!=="charset"||En.line!==1||En.from!==1)&&u("A css file should begin with @charset 'UTF-8';"),h(),sn.type!=="(string)"&&sn.value!=="UTF-8"&&u("A css file should begin with @charset 'UTF-8';"),h(),h(";"),pt();break;default:an.adsafe&&an.fragment&&u("Expected '{a}' and instead saw '{b}'.",sn,"<div>",sn.value),sn.value==="use strict"&&(s('Use the function form of "use strict".'),U()),z("lib")}h("(end)")}catch(a){a&&JSHINT.errors.push({reason:a.message,line:a.line||sn.line,character:a.character||sn.from},null)}return JSHINT.errors.length===0};return $n.data=function(){var e={functions:[]},n,r,i=[],s,o,u,a=[],f,l=[],c;$n.errors.length&&(e.errors=$n.errors),Yt&&(e.json=!0);for(f in Kt)t(Kt,f)&&i.push({name:f,line:Kt[f]});i.length>0&&(e.implieds=i),Sn.length>0&&(e.urls=Sn),r=Object.keys(pn),r.length>0&&(e.globals=r);for(o=1;o<Xt.length;o+=1){s=Xt[o],n={};for(u=0;u<Wt.length;u+=1)n[Wt[u]]=[];for(f in s)t(s,f)&&f.charAt(0)!=="("&&(c=s[f],c==="unction"&&(c="unused"),Array.isArray(n[c])&&(n[c].push(f),c==="unused"&&l.push({name:f,line:s["(line)"],"function":s["(name)"]})));for(u=0;u<Wt.length;u+=1)n[Wt[u]].length===0&&delete n[Wt[u]];n.name=s["(name)"],n.param=s["(params)"],n.line=s["(line)"],n.last=s["(last)"],e.functions.push(n)}l.length>0&&(e.unused=l),a=[];for(f in nn)if(typeof nn[f]=="number"){e.member=nn;break}return e},$n.report=function(e){function t(e,t){var n,r,i;if(t){p.push("<div><i>"+e+"</i> "),t=t.sort();for(r=0;r<t.length;r+=1)t[r]!==i&&(i=t[r],p.push((n?", ":"")+i),n=!0);p.push("</div>")}}var n=$n.data(),r=[],i,s,o,u,a,f,l,c="",h,p=[],d;if(n.errors||n.implieds||n.unused){o=!0,p.push("<div id=errors><i>Error:</i>");if(n.errors)for(a=0;a<n.errors.length;a+=1)i=n.errors[a],i&&(s=i.evidence||"",p.push("<p>Problem"+(isFinite(i.line)?" at line "+i.line+" character "+i.character:"")+": "+i.reason.entityify()+"</p><p class=evidence>"+(s&&(s.length>80?s.slice(0,77)+"...":s).entityify())+"</p>"));if(n.implieds){d=[];for(a=0;a<n.implieds.length;a+=1)d[a]="<code>"+n.implieds[a].name+"</code>&nbsp;<i>"+n.implieds[a].line+"</i>";p.push("<p><i>Implied global:</i> "+d.join(", ")+"</p>")}if(n.unused){d=[];for(a=0;a<n.unused.length;a+=1)d[a]="<code><u>"+n.unused[a].name+"</u></code>&nbsp;<i>"+n.unused[a].line+"</i> <code>"+n.unused[a]["function"]+"</code>";p.push("<p><i>Unused variable:</i> "+d.join(", ")+"</p>")}n.json&&p.push("<p>JSON: bad.</p>"),p.push("</div>")}if(!e){p.push("<br><div id=functions>"),n.urls&&t("URLs<br>",n.urls,"<br>"),Cn==="style"?p.push("<p>CSS.</p>"):n.json&&!o?p.push("<p>JSON: good.</p>"):n.globals?p.push("<div><i>Global</i> "+n.globals.sort().join(", ")+"</div>"):p.push("<div><i>No new global variables introduced.</i></div>");for(a=0;a<n.functions.length;a+=1)u=n.functions[a],p.push("<br><div class=function><i>"+u.line+"-"+u.last+"</i> "+(u.name||"")+"("+(u.param?u.param.join(", "):"")+")</div>"),t("<big><b>Unused</b></big>",u.unused),t("Closure",u.closure),t("Variable",u["var"]),t("Exception",u.exception),t("Outer",u.outer),t("Global",u.global),t("Label",u.label);if(n.member){r=Object.keys(n.member);if(r.length){r=r.sort(),c="<br><pre id=members>/*members ",l=10;for(a=0;a<r.length;a+=1)f=r[a],h=f.name(),l+h.length>72&&(p.push(c+"<br>"),c="    ",l=1),l+=h.length+2,n.member[f]===1&&(h="<i>"+h+"</i>"),a<r.length-1&&(h+=", "),c+=h;p.push(c+"<br>*/</pre>")}p.push("</div>")}}return p.join("")},$n.jshint=$n,$n.edition="2011-02-19",$n}();typeof exports=="object"&&exports&&(exports.JSHINT=JSHINT);