describe("jasmine.jsApiReporter",function(){describe("results",function(){var e,t,n,r,i,s,o,u,a,f;beforeEach(function(){o=new jasmine.Env,o.updateInterval=0,u=o.describe("top-level suite",function(){t=o.it("spec 1",function(){this.expect(!0).toEqual(!0)}),n=o.it("spec 2",function(){this.expect(!0).toEqual(!1)}),a=o.describe("nested suite",function(){f=o.it("nested spec",function(){expect(!0).toEqual(!0)})}),r=o.it("spec 3",function(){this.log("some debug message")})}),e=new jasmine.JsApiReporter,o.addReporter(e),o.execute(),i={messages:t.results().getItems(),result:"passed"},s={messages:n.results().getItems(),result:"failed"}}),it("resultForSpec() should return the result for the given spec",function(){expect(e.resultsForSpec(t.id)).toEqual(i),expect(e.resultsForSpec(n.id)).toEqual(s)}),it("results() should return a hash of all results, indexed by spec id",function(){expect(e.results()[t.id]).toEqual(i),expect(e.results()[n.id]).toEqual(s)}),it("should return nested suites as children of their parents",function(){expect(e.suites()).toEqual([{id:0,name:"top-level suite",type:"suite",children:[{id:0,name:"spec 1",type:"spec",children:[]},{id:1,name:"spec 2",type:"spec",children:[]},{id:1,name:"nested suite",type:"suite",children:[{id:2,name:"nested spec",type:"spec",children:[]}]},{id:3,name:"spec 3",type:"spec",children:[]}]}])}),describe("#summarizeResult_",function(){it("should summarize a passing result",function(){var n=e.results()[t.id],r=e.summarizeResult_(n);expect(r.result).toEqual("passed"),expect(r.messages.length).toEqual(1),expect(r.messages[0].message).toEqual(n.messages[0].message),expect(r.messages[0].passed).toBeTruthy(),expect(r.messages[0].type).toEqual("expect"),expect(r.messages[0].text).toBeUndefined(),expect(r.messages[0].trace.stack).toBeUndefined()}),it("should have a stack trace for failing specs",function(){var t=e.results()[n.id],r=e.summarizeResult_(t);expect(r.result).toEqual("failed"),expect(r.messages[0].trace.stack).toEqual(t.messages[0].trace.stack)}),it("should have messages for specs with messages",function(){var t=e.results()[r.id],n=e.summarizeResult_(t);expect(n.result).toEqual("passed"),expect(n.messages[0].type).toEqual("log"),expect(n.messages[0].text).toEqual("some debug message")})})})});